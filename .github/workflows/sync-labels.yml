name: ðŸ·ï¸ Sync Labels

on:
  workflow_dispatch:
  schedule:
    - cron: '0 2 * * *'
  push:
    branches: [main, master]

jobs:
  sync-labels:
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ·ï¸ Create Labels Config
        run: |
          cat > labels.yml << 'LABELS'
          - name: bug
            description: "Something isn't working"
            color: d73a4a
          
          - name: documentation
            description: "Improvements or additions to documentation"
            color: 0075ca
          
          - name: enhancement
            description: "New feature or request"
            color: a2eeef
          
          - name: "good first issue"
            description: "Good for newcomers"
            color: 7057ff
          
          - name: "help wanted"
            description: "Extra attention is needed"
            color: 008672
          
          - name: invalid
            description: "This doesn't seem right"
            color: e4e669
          
          - name: question
            description: "Further information is requested"
            color: d876e3
          
          - name: wontfix
            description: "This will not be worked on"
            color: ffffff
          
          - name: "sprint-current"
            description: "Active sprint work"
            color: 960167
          
          - name: backlog
            description: "Future work"
            color: 611e65
          
          - name: "ready-to-grab"
            description: "Refined, anyone can take"
            color: adb281
          
          - name: "in-progress"
            description: "Someone's working on it"
            color: 6597a3
          
          - name: done
            description: "Completed, awaiting review"
            color: 379f81
          
          - name: blocked
            description: "Needs help"
            color: 5a8d63
          
          - name: "literature review"
            description: "Requires literature review or research"
            color: 67ff32
          LABELS
          
      - name: ðŸ·ï¸ Sync Labels
        uses: micnncim/action-label-syncer@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          manifest: labels.yml
          prune: true
          
      - name: ðŸ“Š Report Status
        if: always()
        run: |
          if [ "${{ job.status }}" == "success" ]; then
            echo "âœ… Labels synced successfully!"
          else
            echo "âŒ Label sync failed - check logs"
          fi
